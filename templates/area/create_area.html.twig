{% extends 'base.html.twig' %}
{% block center %}
    <div class="col-center-block">
        <form id="Form" action="{{ path('process_area') }}">
            <div class="form-group">
                <label for="exampleInputEmail1">Nombre</label>
                <input required="true" type="text" class="form-control" name="name" id="exampleInputEmail1"
                       placeholder="Name">
            </div>
            <div class="form-group">
                <label id="error" style="color: #ff0c0c" class="hidden">El nombre del Area est√° en uso</label>
            </div>
            <button type="button" onclick="check()" class="btn btn-default">Crear</button>

        </form>
    </div>

{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript">
        function check() {
            var areaname = $('#name').val();
            var data = {areaname: areaname};
            $.ajax({
                type: "POST",
                url: ('ajax_check_areaname'), // call the php file ajax/tuto-autocomplete.php (check the routine we defined)
                data: data,
                success: function (response) {
                    if (!response.result) {
                        $('#error').removeClass('hidden');
                    } else {
                        $('#Form').submit();
                    }
                }
            })
            ;

        }
    </script>
{% endblock %}